"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[915],{2724:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"Product Features/Others/Contact Profile & History","title":"Contact Profile & History","description":"### 4 minute read &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Beginner","source":"@site/docs/4. Product Features/10. Others/12. Contact Profile & History.md","sourceDirName":"4. Product Features/10. Others","slug":"/Product Features/Others/Contact Profile & History","permalink":"/docs/docs/Product Features/Others/Contact Profile & History","draft":false,"unlisted":false,"editUrl":"https://github.com/glific/docs/tree/main/docs/4. Product Features/10. Others/12. Contact Profile & History.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Import & Export Flows","permalink":"/docs/docs/Product Features/Others/Import & Export Flows"},"next":{"title":"HSM Template Message Error","permalink":"/docs/docs/Product Features/Others/HSM Template Message Error"}}');var i=s(4848),c=s(8453);const r={},a=void 0,o={},l=[{value:"<strong>4 minute read \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 <code>Beginner</code></strong>",id:"4-minute-read--------------------------------------------------------beginner",level:3},{value:"View Contact profile",id:"view-contact-profile",level:2},{value:"Create New Profile",id:"create-new-profile",level:2},{value:"Access Old Profile",id:"access-old-profile",level:2},{value:"Multiple Contact Profiles with same phone number",id:"multiple-contact-profiles-with-same-phone-number",level:2},{value:"Video Tutorial",id:"video-tutorial",level:3},{value:"Advanced Feature Webinar",id:"advanced-feature-webinar",level:2},{value:"View Contact History",id:"view-contact-history",level:2},{value:"Flow waked up, marking all other flows as completed",id:"flow-waked-up-marking-all-other-flows-as-completed",level:2}];function d(e){const t={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.h3,{id:"4-minute-read--------------------------------------------------------beginner",children:(0,i.jsxs)(t.strong,{children:["4 minute read \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,i.jsx)(t.code,{children:"Beginner"})]})}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"NGO users can see the contact profile and access history from the Glific interface, when there is a requirement to check the same. It could be used for personalized interactions, data-driven decision making, improving support etc."})}),"\n",(0,i.jsx)(t.h2,{id:"view-contact-profile",children:"View Contact profile"}),"\n",(0,i.jsx)(t.p,{children:"1 .  Login to the Glific and click on the chats tab from the left panel."}),"\n",(0,i.jsx)("img",{width:"195",alt:"image",src:"https://github.com/glific/docs/assets/122982753/58bcfbe7-b89e-4915-a22d-d25fc24e8269"}),"\n",(0,i.jsx)(t.p,{children:"2 . Search the contact from the name of the contact or phone number from the right panel."}),"\n",(0,i.jsx)("img",{width:"355",alt:"image",src:"https://github.com/glific/docs/assets/122982753/9bb542ce-00e0-4acc-b5cf-5921866f7440"}),"\n",(0,i.jsxs)(t.p,{children:["3 .  From the contact's top bar click on the down arrow (next to the contact name) and click on ",(0,i.jsx)(t.code,{children:"View contact profile"})," link"]}),"\n",(0,i.jsx)("img",{width:"372",alt:"image",src:"https://github.com/glific/docs/assets/122982753/9fc7c374-2561-4a3f-8f0f-3a1deb66dfc2"}),"\n",(0,i.jsx)(t.p,{children:"4 .  Contact profile page will open up.  You can check the below details of contact."}),"\n",(0,i.jsxs)(t.p,{children:['i) Name - Contact Name that is shown in chat screen and "View profile--\x3eDetails screen" is the one which is set in the flow with ',(0,i.jsx)(t.code,{children:"@contact.fields.name"})," variable, by the contact.\nIf the name is not updated with the ",(0,i.jsx)(t.code,{children:"@contact.fiels.name"})," variable, the name will be picked from ",(0,i.jsx)(t.code,{children:"@contact.name"})," variable (i.e WhatsApp name set by the contact)."]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("img",{width:"815",alt:"image",src:"https://github.com/glific/docs/assets/122982753/d0e5965b-818c-4c11-97ab-21683d523ae5"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("img",{width:"848",alt:"image",src:"https://github.com/glific/docs/assets/122982753/1740d18f-b93e-4548-af52-349f5fb4acb6"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.p,{children:"ii) Phone number"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("img",{width:"759",alt:"image",src:"https://github.com/glific/docs/assets/122982753/9d4ec6cf-8a3c-47ef-97a5-d4f14f799dd4"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.p,{children:"iii) Provider status / Optin Staus -If contact is optin and can receive HSM templates"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("img",{width:"905",alt:"image",src:"https://github.com/glific/docs/assets/122982753/69297060-1986-48c5-9a59-679e21a5e5c9"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.p,{children:"iv) Language - Contact&'s preferred language. NGO users also can change the language and save it to update the  language preference of contact."}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("img",{width:"737",alt:"image",src:"https://github.com/glific/docs/assets/122982753/07efa47e-d223-4af6-a1b5-fabc38b9fafc"}),"\n",(0,i.jsx)(t.h2,{id:"create-new-profile",children:"Create New Profile"}),"\n",(0,i.jsx)(t.p,{children:"1 . Create a new flow and ask a question, the contact if he/she wants to create a new profile."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193585-825ae6f6-066e-4c14-854f-20feedeb4afd.png",alt:"image"})}),"\n",(0,i.jsx)(t.p,{children:"2 .  If contact press 1.  As contact to provide their profile attributes like name and role"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193608-cc8c2688-cdd0-4df0-aeaf-e7ac90af598a.png",alt:"image"})}),"\n",(0,i.jsxs)(t.p,{children:["3 .  Once the contact share the details use the node with the name ",(0,i.jsx)(t.code,{children:"manage profile"})," and add the details to the profile."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193626-2bfdb53a-1407-4a39-ab72-401d784169f2.png",alt:"image"})}),"\n",(0,i.jsx)(t.p,{children:"4 .  It will return success or failure. If it returns success add the values. in the contact variables."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193656-e1b997a2-353d-4ea7-85e7-2e873a5fc9c3.png",alt:"image"})}),"\n",(0,i.jsxs)(t.p,{children:["Output after executing the flow (",(0,i.jsx)(t.strong,{children:"Create User"}),")"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193678-064ed93b-298c-48dc-ae62-62744412cf6f.png",alt:"image"})}),"\n",(0,i.jsx)(t.h2,{id:"access-old-profile",children:"Access Old Profile"}),"\n",(0,i.jsx)(t.p,{children:"To access the old profile or the profile just create."}),"\n",(0,i.jsx)(t.p,{children:"1 .  Enter option 2  (Switch to the existing user) in the first node created"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193760-002443f0-67e3-4743-843d-3ec96dcb045c.png",alt:"image"})}),"\n",(0,i.jsxs)(t.p,{children:["2 .  Use ",(0,i.jsx)(t.code,{children:"@contact.list_profiles"})," to show all profiles that exist for this phone number."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193776-bf597e31-0bb7-4e04-979c-86ef162806f8.png",alt:"image"})}),"\n",(0,i.jsxs)(t.p,{children:["3 . Use the ",(0,i.jsx)(t.code,{children:"manage profile"})," node to switch the user profile"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193803-b0a99b43-a458-496d-924d-8b87e52a71f0.png",alt:"image"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193835-0643affb-3b19-4699-ac8e-ef0b50957b37.png",alt:"image"})}),"\n",(0,i.jsxs)(t.p,{children:["4 .  ",(0,i.jsx)(t.strong,{children:"On success"}),", access the profile contact variables with ",(0,i.jsx)(t.code,{children:"@contact.fields.name"})]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"On Failure"})," ask the contact to choose the option again."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193860-872565dc-cd27-41b8-9a48-b77ae813c543.png",alt:"image"})}),"\n",(0,i.jsxs)(t.p,{children:["Output after executing the flow (",(0,i.jsx)(t.strong,{children:"Switch User"}),")"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"User profile 1."})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193883-6ffdfa66-30f7-4fdd-a012-82a954fe6cf5.png",alt:"image"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"User profile 2"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://user-images.githubusercontent.com/32592458/221193915-a4cc4645-2e2e-4763-b2fd-f4ab857cc485.png",alt:"image"})}),"\n",(0,i.jsx)(t.h2,{id:"multiple-contact-profiles-with-same-phone-number",children:"Multiple Contact Profiles with same phone number"}),"\n",(0,i.jsx)(t.h3,{id:"video-tutorial",children:"Video Tutorial"}),"\n",(0,i.jsx)("iframe",{width:"800",height:"500",src:"https://www.youtube.com/embed/vsFs_uFEblE",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Please note- This is a video recorded on old UI"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.p,{children:"It has been observed in some cases, beneficiaries have one phone number and there is more than one person who needs to have their profile created to access the Chat."}),"\n",(0,i.jsx)(t.p,{children:"In Glific we have introduced a multiple profile feature, which will help more than one person to create their profiles and use the chatbot to access the information with one phone number."}),"\n",(0,i.jsx)("img",{width:"995",alt:"image",src:"https://github.com/glific/docs/assets/143380171/867d0ad7-d748-4eb4-b01a-d0e45ecf0ac1"}),"\n",(0,i.jsx)(t.p,{children:"Profiles are like contacts, where contact fields are saved as key-value pairs in JSON format."}),"\n",(0,i.jsx)(t.p,{children:"A contact can have multiple profiles, but only one profile can be active at a time."}),"\n",(0,i.jsx)(t.p,{children:"When the active profile for a contact changes, the fields in the profile are swapped with the contact fields."}),"\n",(0,i.jsx)(t.p,{children:"At the flow level, the contact fields will be replaced with the values from the active profile's fields."}),"\n",(0,i.jsx)(t.p,{children:'Profiles are synced to BigQuery in a separate table called "profiles."'}),"\n",(0,i.jsx)(t.p,{children:"Below are the steps on how to implement multiple profile features in your flow."}),"\n",(0,i.jsx)(t.h2,{id:"advanced-feature-webinar",children:"Advanced Feature Webinar"}),"\n",(0,i.jsx)("iframe",{width:"800",height:"500",src:"https://www.youtube.com/embed/csOGHfb4g3s",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Please note- This is a video recorded on old UI"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.h2,{id:"view-contact-history",children:"View Contact History"}),"\n",(0,i.jsxs)(t.p,{children:["1 .  Click on the ",(0,i.jsx)(t.code,{children:"History"})," button to see the chat/flow history of the contact."]}),"\n",(0,i.jsx)("img",{width:"1261",alt:"image",src:"https://github.com/glific/docs/assets/122982753/ab4315d0-abb3-4d53-8d3c-f9ad3bd722c4"}),"\n",(0,i.jsx)(t.h2,{id:"flow-waked-up-marking-all-other-flows-as-completed",children:"Flow waked up, marking all other flows as completed"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["This appears in the contact history when the flow starts again after the ",(0,i.jsx)(t.code,{children:"wait-for-time"})," node."]}),"\n"]}),"\n",(0,i.jsx)("img",{width:"613",alt:"image",src:"https://github.com/glific/docs/assets/143380171/2dca180f-3b69-4364-b5d3-373b177343d9"}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"If the first message goes out,there is a 1-minute waiting time between the first message node and the second node."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"After the 1-minute wait, the flow will start again and will execute the node that comes after the wait-for-time."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["At that time, in the contact history it appears ",(0,i.jsx)(t.code,{children:"Flow waked up, marking all other flows as completed"})]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>a});var n=s(6540);const i={},c=n.createContext(i);function r(e){const t=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(c.Provider,{value:t},e.children)}}}]);