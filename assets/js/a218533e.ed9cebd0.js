"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9187],{3905:(e,t,n)=>{n.d(t,{Zo:()=>h,kt:()=>b});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},h=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,h=o(e,["components","mdxType","originalType","parentName"]),c=p(n),d=i,b=c["".concat(l,".").concat(d)]||c[d]||u[d]||s;return n?a.createElement(b,r(r({ref:t},h),{},{components:n})):a.createElement(b,r({ref:t},h))}));function b(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,r=new Array(s);r[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:i,r[1]=o;for(var p=2;p<s;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5380:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const s={},r=void 0,o={unversionedId:"Integrations/Bhashini ASR",id:"Integrations/Bhashini ASR",title:"Bhashini ASR",description:"### 4 minute read &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Advanced",source:"@site/docs/4. Integrations/Bhashini ASR.md",sourceDirName:"4. Integrations",slug:"/Integrations/Bhashini ASR",permalink:"/docs/docs/Integrations/Bhashini ASR",draft:!1,editUrl:"https://github.com/glific/docs/tree/main/docs/4. Integrations/Bhashini ASR.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Integrations",permalink:"/docs/docs/category/integrations"},next:{title:"ChatGPT Integration via Jugalbandi",permalink:"/docs/docs/Integrations/ChatGPT Integration via Jugalbandi"}},l={},p=[{value:"Bhashini in Glific",id:"bhashini-in-glific",level:2},{value:"Sample Chat",id:"sample-chat",level:2},{value:"Steps to integrate Bhashini ASR in Glific flows",id:"steps-to-integrate-bhashini-asr-in-glific-flows",level:2},{value:"Sample Flow Links",id:"sample-flow-links",level:2},{value:"Blogs",id:"blogs",level:2}],h={toc:p};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("blockquote",null,(0,i.kt)("h3",{parentName:"blockquote",id:"4-minute-read-------------------------------------------------------------advanced"},(0,i.kt)("strong",{parentName:"h3"},"4 minute read ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ","\xa0"," ",(0,i.kt)("inlineCode",{parentName:"strong"},"Advanced")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"Bhashini")," is a project or initiative aimed at providing easy access to the Internet and digital services for all Indians in their native languages. The primary goal of the project is to increase the amount of content available in Indian languages, thereby promoting digital inclusivity and accessibility for a broader population")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"bhashini-in-glific"},"Bhashini in Glific"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Bhashini APIs are used in Glific for speech recognition"),(0,i.kt)("li",{parentName:"ul"},"Whatsapp user can share an audio file, which could be converted to text (in the language chosen by the user)"),(0,i.kt)("li",{parentName:"ul"},"The converted text could be stored in Google Sheets, used in flows/ used as per the use case")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"sample-chat"},"Sample Chat"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274799942-b380b55e-c326-4f82-99bb-3c2289de81ff.jpg",alt:"image1"})),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"steps-to-integrate-bhashini-asr-in-glific-flows"},"Steps to integrate Bhashini ASR in Glific flows"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Create an account in ",(0,i.kt)("a",{parentName:"p",href:"https://bhashini.gov.in/ulca/user/register#"},"Bhashini website")," using name & email ID. Please verify the account using the email received.\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274800251-9d80c40d-1ffa-4945-a542-7b405a8c60e0.png",alt:"image4"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to \u2018My Profile\u2019 on the top-right corner.\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274800442-cf1a04ff-2be4-4c18-8b22-af9dd7fb5388.png",alt:"image6"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Generate \u2018ULCA API Key\u2019 (top-right corner). Also make note of the User ID on top of the button. This will be used inside the webhook call in Glific flow.\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274800897-be8948ad-2526-430c-8f04-f240e54c7ecc.png",alt:"image10"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Make note of the API Key generated. This is required inside the webhook call used in the Glific flow for calling the Bhashini API. (Starting with 01af.. here)\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274801109-1d03b553-d1c3-4fe4-914d-d639d92659d3.png",alt:"image2"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Now login to your Glific instance and create a flow. In this example we\u2019ll use a flow called Maven ASR Bhashini, used for recording incoming audio queries in a Google Sheet. The flow starts with asking the user to share the query as a voice note and it is saved as \u2018speech\u2019. "))),(0,i.kt)("p",null,"The download link for a few sample flows are given below to test it for yourself.\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274801303-e87be8d0-c968-40f6-826c-483fa4cdc8d7.png",alt:"image11"})),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},"After the audio is captured, the Bhashini ASR API is called using a Webhook function called \u2018speech_to_text_with_bhasini\u2019 and the response is stored as \u2018speech2text\u2019.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The function name is pre-defined, you should always use the name \u2018speech_to_text_with_bhasini\u2019 to call the Bhashini API"),(0,i.kt)("li",{parentName:"ul"},"The response stored (speech2text here) could be given any name of your liking, just like any other flow variable")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274801489-a54cb427-0e79-4b45-9b11-9745e8cfa0fa.png",alt:"image7"})),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},"The webhook body is shown below. Please update the parameters as shown :")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"speech : It should be updated with the result name given for the audio file captured. Here, it is saved as \u2018speech\u2019 (Step 5), hence the value is @results.speech.input (If the audio note captured was saved as \u2018query\u2019, then the value will be @results.query.input)"),(0,i.kt)("li",{parentName:"ul"},"userID : The userID is updated with the userID captured from Bhashini website. (Refer Step 3)"),(0,i.kt)("li",{parentName:"ul"},"ulcaApiKey :  The API Key needs to be updated with the ULCA API key captured from Bhashini website. (Refer Step 4)"),(0,i.kt)("li",{parentName:"ul"},"pipelineId : Keep the value as given in the screenshot below - \u201c64392f96daac500b55c543cd\u201d"),(0,i.kt)("li",{parentName:"ul"},"base_url : Keep the value as given in the screenshot below - \u201c",(0,i.kt)("a",{parentName:"li",href:"https://meity-auth.ulcacontrib.org/ulca/apis/v0/model/%E2%80%9D"},"https://meity-auth.ulcacontrib.org/ulca/apis/v0/model/\u201d")),(0,i.kt)("li",{parentName:"ul"},"contact : Keep the value as given in the screenshot below - \u201c@contact\u201d\nYou can read more about the variables used inside the webhook body/ Bhashini APIs ",(0,i.kt)("a",{parentName:"li",href:"https://bhashini.gitbook.io/bhashini-apis/"},"here"))),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274801670-40988471-c09d-4f4f-a9e0-fd80d869dd73.png",alt:"image3"})),(0,i.kt)("ol",{start:8},(0,i.kt)("li",{parentName:"ol"},"Once the webhook is updated, you could always refer to the translated text as \u2018@results.speech2text.asr_response_text\u2019 to use it inside the flow. ")),(0,i.kt)("p",null,"The output of the text response from the Bhashini depends on the language preference of the user. For instance if a user has selected Hindi language, the response from Glific will be in Hindi script."),(0,i.kt)("ol",{start:9},(0,i.kt)("li",{parentName:"ol"},"You could additionally link the webhook to a \u2018Link Google Sheet\u2019 node to record the translated text into a spreadsheet as shown in the flow below. ")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274801797-ee8ad5e9-d404-43da-b4dd-97f78ca7eef2.png",alt:"image8"})),(0,i.kt)("ol",{start:10},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The Google Sheet node is configured as shown below. The fourth variable being used is \u2018@results.speech2text.asr_response_text\u2019 which will capture the translated text in the fourth column.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274801864-9bfca302-ae0d-4f12-9745-b1859fd66ff4.png",alt:"image9"}),"\t")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The incoming audio notes in this flow will be captured in Google Sheets as shown below\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/132430123/274801897-a79f05c6-9f48-4eeb-93b9-3437bf2e6792.png",alt:"image5"})))),(0,i.kt)("h2",{id:"sample-flow-links"},"Sample Flow Links"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Test some sample flows for yourself by importing these flows to your Glific instance.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://drive.google.com/file/d/1qXxDIaP4MMDl18NsgVuhF1H8cIetJNiM/view?usp=sharing"},"Maven ASR Bhashini")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://drive.google.com/file/d/1K-KcJ0NFDIcVN2w8E1sTnev36AEGdv5I/view?usp=sharing"},"Bhasini API"))),(0,i.kt)("h2",{id:"blogs"},"Blogs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://glific.org/getting-started-using-asr-with-bhashini-api/"},"Getting started with Bhashini ASR"))))}c.isMDXComponent=!0}}]);