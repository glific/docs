"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1585],{1433:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var t=n(4848),o=n(8453);const i={},r=void 0,c={id:"Product Features/Flows/Flow Actions/Split By/Custom Expression",title:"Custom Expression",description:"### 2 minute read &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intermediate",source:"@site/docs/3. Product Features/03. Flows/2. Flow Actions/Split By/01. Custom Expression.md",sourceDirName:"3. Product Features/03. Flows/2. Flow Actions/Split By",slug:"/Product Features/Flows/Flow Actions/Split By/Custom Expression",permalink:"/docs/docs/Product Features/Flows/Flow Actions/Split By/Custom Expression",draft:!1,unlisted:!1,editUrl:"https://github.com/glific/docs/tree/main/docs/3. Product Features/03. Flows/2. Flow Actions/Split By/01. Custom Expression.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Manage profile",permalink:"/docs/docs/Product Features/Flows/Flow Actions/Manage profile"},next:{title:"Contact Field",permalink:"/docs/docs/Product Features/Flows/Flow Actions/Split By/Contact Field"}},a={},l=[{value:"<strong>2 minute read \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 <code>Intermediate</code></strong>",id:"2-minute-read---------------------------------------------------------intermediate",level:3},{value:"Splitting Responses based on Contact choices or Attribute values",id:"splitting-responses-based-on-contact-choices-or-attribute-values",level:2},{value:"Custom Expressions cheatsheet",id:"custom-expressions-cheatsheet",level:2},{value:"Syntax Examples",id:"syntax-examples",level:2},{value:"Advanced Feature Webinar",id:"advanced-feature-webinar",level:2}];function d(e){const s={blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.h3,{id:"2-minute-read---------------------------------------------------------intermediate",children:(0,t.jsxs)(s.strong,{children:["2 minute read \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,t.jsx)(s.code,{children:"Intermediate"})]})}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"splitting-responses-based-on-contact-choices-or-attribute-values",children:"Splitting Responses based on Contact choices or Attribute values"}),"\n",(0,t.jsx)(s.p,{children:"There may be situations wherein a flow you would want to send different responses to different contacts based on their choices."}),"\n",(0,t.jsxs)(s.p,{children:["You can use the ",(0,t.jsx)(s.code,{children:"Split by a custom expression"})," option to make that happen."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"Split by a custom expression"})," uses a coding syntax to match the response received or profile attribute."]}),"\n",(0,t.jsxs)(s.p,{children:["The syntax will be like ",(0,t.jsx)(s.code,{children:"<%= if (Variable name  == 'String' / number ), do: 1, else: 0 %>"})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"custom-expressions-cheatsheet",children:"Custom Expressions cheatsheet"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Get today's date in IST\n",(0,t.jsx)(s.code,{children:'<%= Timex.today("Asia/Kolkata") |> Date.to_string() %>'})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Get today's date and time in IST\n",(0,t.jsx)(s.code,{children:'<%= DateTime.now!("Asia/Kolkata") |> DateTime.to_string() %>'})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"String concatenation function"})}),"\n",(0,t.jsxs)(s.p,{children:["Put two variables in the results field in the update contact node.\n",(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.em,{children:"@results.Var1 @results.Var2"})})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)("img",{width:"640",alt:"Screenshot 2023-08-30 at 12 26 12 PM",src:"https://github.com/glific/docs/assets/16541548/7e6ab494-27ad-4dd7-91ed-ba790ac60bc6"}),"\n",(0,t.jsx)(s.h2,{id:"syntax-examples",children:"Syntax Examples"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Syntax to ",(0,t.jsx)(s.strong,{children:"check if contact belongs to collection 1 or collection 2"})]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:'<%=\xa0if "collection 1" in @contact.in_groups, do: 1, else: if "collection 2" in @contact.in_groups, do: 2, else: 3 %>'})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://user-images.githubusercontent.com/32592458/218255349-c0ac6af4-24b3-4ca5-b9c9-46bfb0230b5f.png",alt:"image"})}),"\n",(0,t.jsxs)(s.p,{children:["2 . Syntax to ",(0,t.jsx)(s.strong,{children:"check if the contact is registered"})," or not."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:'<%=\xa0if "@contact.fields.is_registered" == "1" , do: 1, else:\xa00 %>'})}),"\n",(0,t.jsxs)(s.p,{children:["3 . Syntax to ",(0,t.jsx)(s.strong,{children:"check if the contact has opted-in"})," or not."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"<%= if @contact.optin_status == true, do: 1, else: 2%>"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://user-images.githubusercontent.com/32592458/218255356-a3df6b26-30a5-4d55-92cc-720397efa908.png",alt:"image"})}),"\n",(0,t.jsx)(s.p,{children:"Any variable that is created and saved for contact can be used to make decisions in Split by custom expression syntax"}),"\n",(0,t.jsx)(s.p,{children:"To use Split by expression needs a bit of coding to write the correct syntax. If you have exact requirements for what needs to be done and needs assistance, please ping us on discord, we will share the correct syntax for the requirement."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"advanced-feature-webinar",children:"Advanced Feature Webinar"}),"\n",(0,t.jsx)("iframe",{width:"800",height:"500",src:"https://www.youtube.com/embed/nl7n6l_LLec",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>c});var t=n(6540);const o={},i=t.createContext(o);function r(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);