"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1900],{4161:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var t=s(4848),i=s(8453);const o={},l="Integration with llm4dev",r={id:"Integrations/GPT answers with conversational memory",title:"Integration with llm4dev",description:"- Webhooks to facilitate retrieval augmented generation (GPT generated answers from custom knowledge bases),",source:"@site/docs/4. Integrations/GPT answers with conversational memory.md",sourceDirName:"4. Integrations",slug:"/Integrations/GPT answers with conversational memory",permalink:"/docs/docs/Integrations/GPT answers with conversational memory",draft:!1,unlisted:!1,editUrl:"https://github.com/glific/docs/tree/main/docs/4. Integrations/GPT answers with conversational memory.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Dialogflow for Natural Language Processing",permalink:"/docs/docs/Integrations/Dialogflow for Natural Language Processing"},next:{title:"GPT integration for image recognition",permalink:"/docs/docs/Integrations/GPT integration for image recognition"}},a={},c=[{value:"Steps to get started.",id:"steps-to-get-started",level:2},{value:"Uploading a knowledge base",id:"uploading-a-knowledge-base",level:2},{value:"Using in a flow",id:"using-in-a-flow",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"integration-with-llm4dev",children:"Integration with llm4dev"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Webhooks to facilitate retrieval augmented generation (GPT generated answers from custom knowledge bases),"}),"\n",(0,t.jsx)(n.li,{children:"chatbot flows with conversational memory (previous conversations)"}),"\n",(0,t.jsx)(n.li,{children:"scaled deployment"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"steps-to-get-started",children:"Steps to get started."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.code,{children:"Settings"})," and find ",(0,t.jsx)(n.code,{children:"LLM4Dev"})," Update the ",(0,t.jsx)(n.code,{children:"API url"})," and ",(0,t.jsx)(n.code,{children:"API key"})]}),"\n",(0,t.jsxs)(n.li,{children:["For API url provide the following input \u2018",(0,t.jsx)(n.a,{href:"https://openllm.projecttech4dev.org%E2%80%99",children:"https://openllm.projecttech4dev.org\u2019"})]}),"\n",(0,t.jsxs)(n.li,{children:["For API key, reach out to Glific team on discord ",(0,t.jsx)(n.a,{href:"https://discord.gg/YWgGxWJsMh",children:"here"})]}),"\n",(0,t.jsxs)(n.li,{children:["Mark it ",(0,t.jsx)(n.code,{children:"Active"})]}),"\n"]}),"\n",(0,t.jsx)("img",{width:"988",alt:"Screenshot 2024-05-02 at 2 14 23\u202fPM",src:"https://github.com/glific/docs/assets/141305477/d82a4dc9-01e4-4ca9-9606-1029c5c907dc"}),"\n",(0,t.jsx)(n.h2,{id:"uploading-a-knowledge-base",children:"Uploading a knowledge base"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.code,{children:"Manage"})]}),"\n",(0,t.jsxs)(n.li,{children:["Find the ",(0,t.jsx)(n.code,{children:"Knowledge bases"})]}),"\n",(0,t.jsx)(n.li,{children:"Upload documents"}),"\n"]}),"\n",(0,t.jsx)("img",{width:"1304",alt:"Screenshot 2024-05-02 at 2 18 03\u202fPM",src:"https://github.com/glific/docs/assets/141305477/cbbe762d-92fa-436e-99fc-62ceb305f0b1"}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Give it a category name"}),"\n",(0,t.jsxs)(n.li,{children:["Documents are clubbed under a ",(0,t.jsx)(n.code,{children:"category id"})," based on the category name"]}),"\n",(0,t.jsx)(n.li,{children:"This is done so as to be able to reference different knowledge bases for different programs or different tasks."}),"\n"]}),"\n",(0,t.jsx)("img",{width:"586",alt:"Screenshot 2024-05-02 at 2 19 47\u202fPM",src:"https://github.com/glific/docs/assets/141305477/0578a348-d729-46f9-976b-2b1d0df2039f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Present limitations"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'The documents have to be in "pdf" format.'}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The above limitations will be resolved in the next iteration of the build (in a month or so)"}),"\n",(0,t.jsx)(n.h2,{id:"using-in-a-flow",children:"Using in a flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The functionality can be accessed by calling a webhook."}),"\n",(0,t.jsx)(n.li,{children:"Follow the below specifications in the webhook node."}),"\n",(0,t.jsxs)(n.li,{children:["Make sure you give an appropriate webhook result name. (in the example shown below the webhook result name is ",(0,t.jsx)(n.code,{children:"llm4dev_webhook"})]}),"\n",(0,t.jsxs)(n.li,{children:["choose the webhook type to be ",(0,t.jsx)(n.code,{children:"Function"})]}),"\n",(0,t.jsx)(n.li,{children:"The function name has to be \u2018llm4dev\u2019"}),"\n"]}),"\n",(0,t.jsx)("img",{width:"682",alt:"Screenshot 2024-05-02 at 4 48 51\u202fPM",src:"https://github.com/glific/docs/assets/141305477/70c16dc5-840b-4e4a-8c13-d70f069dd876"}),"\n",(0,t.jsxs)(n.ol,{start:"8",children:["\n",(0,t.jsx)(n.li,{children:"Go to function body."}),"\n",(0,t.jsx)(n.li,{children:"The following webhook params can be created."}),"\n"]}),"\n",(0,t.jsx)("img",{width:"662",alt:"Screenshot 2024-05-02 at 4 52 01\u202fPM",src:"https://github.com/glific/docs/assets/141305477/5059f824-e934-4091-a598-e84033d3fde2"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"\u201cquestion\u201d:\u201d\u201d,"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This should contant the result from the flow containing the question of the user."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"\u201ccategory_id\u201d:\u201d\u201d"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This is the numeric value referencing the knowledge base uploaded."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"\u201csystem_prompt\u201d:\u201d\u201d,"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This is an optional parameter."}),"\n",(0,t.jsx)(n.li,{children:"This parameter to provide a prompt for the LLM to generate responses at the nodel level."}),"\n",(0,t.jsx)(n.li,{children:"Not providing this parameter will make the system fall back on a mandatory system prompt that the org can set up when creating acquiring the llm4dev API keys from the Glific team."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"\u201cgpt_model\u201d:\u201d\u201d, "})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This is an optional param, by default a model selection is done in the backend if no specific model is called out here."}),"\n",(0,t.jsxs)(n.li,{children:["This can be a list of models, the proper naming of which can be obtained form ",(0,t.jsx)(n.a,{href:"%5Burl%5D(https://platform.openai.com/docs/models/overview)",children:"OpenAI API documentation"})]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"9",children:["\n",(0,t.jsxs)(n.li,{children:["The response of the above webhook has to be ",(0,t.jsx)(n.code,{children:"@result.webhookresultname.answer"})]}),"\n"]}),"\n",(0,t.jsx)("img",{width:"572",alt:"Screenshot 2024-05-02 at 4 52 32\u202fPM",src:"https://github.com/glific/docs/assets/141305477/9a5f72e9-8e0b-4f88-8e76-b8e71274936b"}),"\n",(0,t.jsx)(n.p,{children:"To leverage the conversational memory, in the subsequent webhook call, following additional parameter needs to be added."}),"\n",(0,t.jsx)("img",{width:"709",alt:"Screenshot 2024-05-02 at 4 53 22\u202fPM",src:"https://github.com/glific/docs/assets/141305477/3a7f22c2-0d3b-41a1-b137-a833406619c5"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"\u201csession_id\u201d:\u201d\u201d "})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The value of the \u2018session_id\u2019 is to be passed as above."}),"\n",(0,t.jsxs)(n.li,{children:["As the ",(0,t.jsx)(n.code,{children:"session_id"})," is the variable in the response to the API call, which is referencing the conversation that has taken place previously."]}),"\n"]}),"\n",(0,t.jsx)("img",{width:"445",alt:"Screenshot 2024-05-02 at 2 47 24\u202fPM",src:"https://github.com/glific/docs/assets/141305477/3492740b-e668-4999-92cb-c05e32fe3faa"}),"\n",(0,t.jsxs)(n.p,{children:["Demo flow: ",(0,t.jsx)(n.a,{href:"https://drive.google.com/file/d/1B6gCZ7NFg3lQqAvTsIkn8rqxHCAFRlgu/view?usp=sharing",children:"https://drive.google.com/file/d/1B6gCZ7NFg3lQqAvTsIkn8rqxHCAFRlgu/view?usp=sharing"})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var t=s(6540);const i={},o=t.createContext(i);function l(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);